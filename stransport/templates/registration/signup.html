{% extends "stransport/layout.html" %}
{% block title %}הרשמה{% endblock %}

{% block content %}

<h2>הרשמה</h2>

{% if form.errors %}
<div class="panel" style="border:1px solid #ef4444;background:#fef2f2;padding:12px;border-radius:8px;margin:12px 0;">
  <strong>יש שגיאות בטופס:</strong>
  {{ form.errors }}
</div>
{% endif %}

{% if error_message %}
<div class="panel" style="border:1px solid #ef4444;background:#fef2f2;padding:12px;border-radius:8px;margin:12px 0;">
  <strong>שגיאה:</strong>
  {{ error_message }}
</div>
{% endif %}

<form method="post">
  {% csrf_token %}

  <label>שם משתמש</label>
  {{ form.username }}

  <label>סיסמה</label>
  {{ form.password1 }}
  <div class="muted" style="margin:4px 0 10px;">
    סיסמה צריכה להיות לפחות 8 תווים, לא נפוצה, ולא דומה לשם המשתמש.
  </div>

  <label>אימות סיסמה</label>
  {{ form.password2 }}

  <label>תפקיד</label>
  <select name="role" required>
    <option value="">בחר תפקיד…</option>
    <option value="sick">מטופל</option>
    <option value="volunteer">מתנדב</option>
  </select>

  <button type="submit" class="btn-primary">צור חשבון</button>

</form>

<p>כבר רשום? <a href="{% url 'login' %}">התחברות</a></p>
{% endblock %}
